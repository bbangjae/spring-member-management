<!DOCTYPE HTML>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>팀 상세 정보</title>
    <!-- Bootstrap CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Pretendard:wght@400;700&display=swap" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="/css/common.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h2 class="table-title">팀 상세 정보</h2>

    <table class="table table-hover">
        <tbody>
        <tr>
            <th style="width: 20%;">팀 ID</th>
            <td th:text="${team.teamId}"></td>
        </tr>
        <tr>
            <th>팀 이름</th>
            <td id="teamName" th:text="${team.teamName}"></td>
        </tr>
        </tbody>
    </table>
    <h4 class="table-sub">소속 멤버</h4>
    <table class="table table-striped">
        <thead>
        <tr>
            <th style="width: 10%;">번호</th>
            <th style="width: 20%;">이름</th>
            <th style="width: 20%;">락커</th>
            <th style="width: 20%;">관리</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${#lists.isEmpty(team.members)}">
            <td colspan="4" class="text-center">등록된 멤버가 없습니다.</td>
        </tr>
        <tr th:each="member : ${team.members}">
            <td th:text="${member.memberId}"></td>
            <td th:text="${member.memberName}"></td>
            <td th:text="${member.lockerNumber ?: '없음'}"></td>
            <td>
                <a th:href="@{'/members/' + ${member.memberId}}" class="btn btn-sm btn-primary" style="background: #5879a2">상세</a>

                <button type="button" class="btn btn-danger" th:attr="data-member-id=${member.memberId}" style="display:inline;">삭제</button>
            </td>
        </tr>
        </tbody>
    </table>

    <div id="btnBar" class="d-flex justify-content-between mt-3">
        <a href="/teams" id="toListBtn" class="btn btn-secondary">목록으로</a>
        <div class="d-flex gap-2">
            <button id="editBtn" class="btn btn-primary">이름 수정</button>
            <button id="saveBtn" class="btn btn-primary" style="display:none;">저장</button>
            <button id="cancelBtn" class="btn btn-secondary" style="display:none;">취소</button>
            <button id="deleteBtn" class="btn btn-danger">팀 삭제</button>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="/js/teams/team-detail.js"></script>
</body>
</html>